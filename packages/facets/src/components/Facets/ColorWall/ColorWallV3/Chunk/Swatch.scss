.cwv3__swatch {
  $swatch-white-border: inset 0 0 0 1px white;
  $bloom-duration: 200ms;

  @mixin bloom($small-screen-scale-amt, $large-screen-scale-amt, $z) {
    z-index: $z !important;
    transform: scale($small-screen-scale-amt);
    transition: transform $bloom-duration;
    @include respond-above(sm) { transform: scale($large-screen-scale-amt); }
  }

  position: relative;
  overflow: visible;

  .cwv3__swatch-renderer {
    box-shadow: $swatch-white-border;

    &--active {
      box-shadow: $swatch-white-border, 0 0 4px 0 rgba(black, .5);
      transform: scale(2.9);
      z-index: 1000;
    }

    &--perimeter {
      box-shadow: $swatch-white-border, 0 0 2px 0 rgba(black, .25);

      &--1 {
        @include bloom(2, 2.36, 108);
      }

      &--2 {
        @include bloom(2, 2.08, 107);
      }

      &--3 {
        @include bloom(1.41, 1.74, 106);
      }

      &--4 {
        @include bloom(1.30, 1.41, 105);
      }
    }

    &__inner {
      filter: drop-shadow(0px 2px 6px rgba(black, .5));
    }

    &:focus {
      outline: 2px solid var(getThemeColor( "primary" )) !important;
    }
  }

  &:focus-within {
    .cwv3__swatch-renderer__inner {
      outline: 3px solid var(getThemeColor( "primary" )) !important;
    }

    .cwv3__swatch-renderer {
      z-index: 100;
    }
  }
}