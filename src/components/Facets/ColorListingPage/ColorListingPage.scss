// ------------------------------------------------------------------
// BEGIN COLOR WALL <-> COLOR DETAILS TRANSITION

@keyframes slideDetailsIn {
  0%, 20% {
    opacity: 0;
    transform: translate3d(50%, 0, 0);
  }
  80%, 100% {
    opacity: 1;
    transform: translate3d(0%, 0, 0);
  }
}

@keyframes slideWallIn {
  0%, 20% {
    opacity: 0;
    transform: translate3d(-50%, 0, 0);
  }
  80%, 100% {
    opacity: 1;
    transform: translate3d(0%, 0, 0);
  }
}

.color-wall-transitioner {
  overflow: hidden;
  position: relative;

  .cdp-slide {
    &-enter,
    &-enter-active,
    &-enter-done {
      // keep duration significatnly less than the transitionTime that JS is using
      // to reduce jumpy transitions and background flashing in Chrome
      animation-duration: #{getVar('colorWall.transitionTime')}ms;
      animation-fill-mode: both;
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
      backface-visibility: hidden;
      background: white;
      position: relative;
      z-index: 100;
      will-change: transform opacity;

      &.cdp-slide-to-wall {
        animation-name: slideWallIn;
      }

      &.cdp-slide-to-details {
        animation-name: slideDetailsIn;
      }
    }

    &-enter-done {
      animation: none;
      transform: unset;
    }

    &-exit,
    &-exit-active,
    &-exit-done {
      left: 0;
      position: absolute;
      top: 0;
      transform: unset;
      width: 100%;
      z-index: 0;
    }

    &-exit-done {
      display: none;
    }
  }
}

// END COLOR WALL <-> COLOR DETAILS TRANSITION
// ------------------------------------------------------------------

// ------------------------------------------------------------------
// BEGIN COLOR WALL <-> COLOR SWATCH ACTIVE TRANSITION

$zoom-out-amt: .9;
$zoom-out-opacity: 0;
$zoom-in-amt: 1;
$zoom-in-opacity: 1;

@keyframes zoomSwatchIn {
  0%, 20% {
    transform: scale($zoom-out-amt);
    opacity: $zoom-out-opacity;
  }
  80%, 100% {
    transform: scale($zoom-in-amt);
    opacity: $zoom-in-opacity;
  }
}

@keyframes zoomSwatchOut {
  0%, 20% {
    transform: scale($zoom-in-amt);
    opacity: $zoom-in-opacity;
  }
  80%, 100% {
    transform: scale($zoom-out-amt);
    opacity: $zoom-out-opacity;
  }
}

.color-wall-zoom-transitioner {
  overflow: hidden;
  position: relative;

  &__zoom-in {
    &--enter,
    &--enter-active,
    &--enter-done {
      // zoomed color wall appearing
      backface-visibility: hidden;
      position: relative;
      z-index: 1;
      will-change: transform;

      animation-name: zoomSwatchIn;
      animation-fill-mode: both;
      animation-duration: #{getVar('colorWall.transitionTime')}ms;
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    &-enter-done {
      backface-visibility: unset;
      animation: none;
      transform: unset;
    }

    &--exit,
    &--exit-active,
    &--exit-done {
      // zoomed color wall disappearing
      backface-visibility: hidden;
      position: absolute;
      top: 0;
      width: 100%;
      z-index: 1;
      will-change: transform;

      animation-name: zoomSwatchOut;
      animation-fill-mode: both;
      animation-duration: #{getVar('colorWall.transitionTime')}ms;
      animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    &--exit-done {
      display: none;
    }
  }

  &__zoom-out {
    &--enter,
    &--enter-active,
    &--enter-done {
      // full wall appearing
      position: relative;
      z-index: 0;
    }

    &--exit,
    &--exit-active,
    &--exit-done {
      // full wall disappearing
      position: absolute;
      top: 0;
      width: 100%;
      z-index: 0;
    }

    &--exit-done {
      display: none;
    }
  }
}

// END COLOR WALL <-> COLOR SWATCH ACTIVE TRANSITION
// ------------------------------------------------------------------