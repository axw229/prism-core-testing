// @flow
import type { CategorizedColorIdGrid, Color, ColorIdList, ColorList, ColorMap, ColorStatuses, FamilyStructure, Layouts, Layout } from './Colors'

export type GridRefState = { current: ?{
  recomputeGridSize: () => void,
  scrollToCell: ({ rowIndex: number, columnIndex: number}) => void,
  scrollToPosition: ({ scrollLeft: number, scrollTop: number }) => void,
  state: { scrollLeft: number, scrollTop: number }
} }

export type ReduxAction = {
  type: string,
  payload: any
}

export type Section = {
  name: string,
  default: boolean,
  families: string[]
}

export type SectionCollection = Section[]

export type ColorsState = {
  emitColor?: {
    color: Color,
    timestamp: number
  },
  status: {
    loading: boolean,
    error: boolean,
    activeRequest: boolean
  },
  items: {
    brights?: CategorizedColorIdGrid,
    colorMap?: ColorMap,
    colors?: CategorizedColorIdGrid,
    colorStatuses?: ColorStatuses,
    unorderedColors?: ColorIdList,
    sectionLabels?: { [?string]: string[] }
  },
  structure?: FamilyStructure,
  layouts?: Layouts,
  layout?: Layout,
  sections?: string[],
  section?: string,
  families?: string[],
  family?: string,
  colorWallActive?: Color,
  search: {
    results?: ColorList,
    suggestions?: string[],
    count?: number,
    query: string,
    loading: boolean,
    error: boolean,
    active: boolean
  },
  initializeWith: {
    section?: string,
    family?: string,
    colorWallActive?: string
  },
}
